---
layout: single
title: "[React] map함수의 필요성"

categories:
 - React
---
## 반복문
우리는 일반적으로 지금까지 코딩을 하면 for문, 혹은 while문을 이용하였다. <br>
이는 C,C++등에서 주요 사용하는 코드이다. <br>
이때 파이썬과 JS에서는 반복문으로 추가적으로 map함수라는 것을 사용하는데, <br>
이를 사용하는 이유를 알아보자. <br>


## map함수
반복되는 컴포넌트를 렌더링하기 위해서 자바스크립트 배열에서 내장되어 있는 함수 <br>
파라미터로 전달된 함수를 통해 배열 내 각 요소를 원하는 규칙에 변환하고 새로운 배열을 생성한다. <br>
일단 일반적인 for문과 map함수를 비교해보자 <br>

### 예제1

**for문
```javascript
const numbers = [1, 3, 5]
for (let i = 0; i < numbers.length; i++) {
    console.log(numbers[i])
}
```

**map함수
```javascript
const numbers = [1, 3, 5];
const listItems = numbers.map((number, idx) => {
    console.log(number);
});
```

위  코드는 동일하게 구현되지만 형태가 조금 다른 것을 볼 수 있다. <br> <br>

일단 제일 중요한 차이점은 for문의 억압적인 구현을 뺄 수 있다. <br>
또한 map함수는 배열의 요소를 돌려 인자로 전달된 함수를 처리하여 새로운 결과를 <br>
새로운 배열에 담아 반환하는 형태이므로 유용하게 쓸 수 있다. <br>


### 예제 1
```javascript
const onClickImg = () => {
    navigate(`/comment/id/등등 내가 원하는 주소`,`전달하고 싶은 인자들`);
  };
```

```javascript
<img src={...} alt={...} onClick={onClickImg} />
```
### 예제 2
```javascript
import { useNavigate } from 'react-router-dom';
const navigate = useNavigate();
navigate('/home');
```

여기서 사용하는 것은 import를 진행하고 그 밑에 바로 navigate을 선언한다. <br>
하지만 버튼을 클릭하였을 때 해당 navigate에 주고 싶은 내용이 달라질 때는 저 방식으로 사용하기 힘들다. <br>
이에 Button의 onClick함수에서 고쳐주는 것이 좋다. <br>

## 고친 형태
```javascript
let navigate = useNavigate();
```

```javascript
onClick={() => {
                navigate(`/defaulthowpage`,
                  { state: { needKind: firstData?.kind, needImages: firstData?.images } });
              }}
```
이처럼 메인 함수 시작전에는 navigate하나면 선언해주고 <br>
return문 밑에 onClick함수에서 navigate을 이용해주면 된다. <br>
그리고 그 state에 넣어주고 싶은 **달라진 내용**을 적어주면 된다. <br>

## useLocation
받는 형태는 딱히 달라진 것이 없다고 한다. 형태는 다음과 같다. <br>
```javascript
  const item = useLocation();
  const itemform = item?.state as any;

  const itemImage = itemform.needImages;
   const itemKind = itemform.needKind;
```
```useLocation()```을 이용하여 내용을 받을 것을 하나 선언하고
```item.state```을 이용하여 그 안의 내용물을 사용하기 위한 변수를 하나 더 선언해준다.
이 state안에 받아온 내용들이 있으므로 그것을 사용하면 해결!!
