---
layout: single
title: "GDG Devfest 참여 후기"
categories:
 - forme
---

이번에 한국공학대 GDSC 1기로 참여하면서 여러 행사를 접할 수 있었는데, 그 중 하나의 큰 행사가 바로 Devfest이다. <br>
장소는 송도 스타트업파크에서 진행하였고 집에서도 1시간 반 거리였지만 지하철편이 괜찮아서 잘 다녀왔다. <br>

<해당 세션>


나는 총 4개의 세션을 들었고 모두 클라우드, 빅데이터 등에 대한 내용이었다. <br>
각 세션은 50분으로 진행되었고, 해당 세션들의 내용과 듣고 느낀점을 간략하게 써보고자 한다. <br>

- What's in New : GCP
- GCP 조금 더 안전하게 사용하기 (feat. AWS)
- 스타트업 온프레미스 클러스터 도입기
- BigQuery 도입 후 4년

## 첫번째 세션 : GCP의 새로운 기능들
사실 AWS만 RDS나 R3 때문에 조금 다뤄보았고 GCP는 사용하지 않았다. 그리고 최근 GCP 사용량이 증가하고 있긴 하지만 아직도 AWS가 부동의 1위이기 때문에 여기서 GCP를 처음 접한 것과 마찬가지이다. <br>
ai나 인프라, 보안등 다양한 기능들이 업데이트 되었다고 설명해주었지만 무엇보다 데이터 분석 서비스에 제일 눈에 띄었다. <br>
데이터 분석에 클라우드에서 많이 사용되고 있는 Big Query가 업데이트 되었는데, 모든 유형들을 작업하는 비정형 데이터를 지원해주고, 비공개 프리뷰를 사용하는 것은 물론 SQL 파이프라인을 설정할 수 있다고 한다. <br>
또한 JSON파일도 이제 분석이 가능하고 비디오, 전화 대화내용 등 다양한 형식의 문서도 분석이 가능해진다고 한다. <br>
추가로 타사 데이터베이스를 사용할때 간단한 클릭으로 Big Query을 통해 데이터베이스 스트림으로 쉽게 데이터를 복제하거나 분석할 수 있다고 한다. <br>
Big Query에 대해 더 공부해보고 이를 유용하게 써보면 좋을 것 같다. <br> <br>


## 두번째 세션 : GCP 안전하게 사용하기
이 세션이 제일 이해가 잘 되었고 유익하게 들었던 것 같다. 클라우드 서비스를 이용하려면 IAM을 필수적으로 알아야 한다고 하는데, <br>
IAM은 클라우드 서비스의 인증 및 권한 관리 서비스라고 한다. (각자 ID, 권한을 부여해주는 느낌) <br>
GCP IAM은 누구에게 무슨 리소스에 대한 액세스 권한이 있는지 정의하여 액세스 제어를 관리해주는 서비스인데 여기서 외부 서비스 (AWS EC2 등)에서 GCP을 사용할 경우에는 기본적으로 서비스 account의 Private key을 사용하여 인증하는 방식이다. <br>
그런데 여기서 키가 노출되었을 때 매우 큰 문제가 발생하는데 이를 해결하기 위해 **identity federation**을 제시해주었다. <br> <br>

권한 키를 이용하면 제일 쉽고 간단하게 세팅을 완료해서 끝낼 수 있지만 보통 키를 발급받을 때 평생 사용하며 보안의 문제가 발생할 수 있다. <br>
Identity Federation은 외부에서 권한 키 없이 사용할 수 있고, 리소스에 대한 액세스 권한을 부여하여 <br>
private키에 대한 정보가 전혀 없어서 유출이 되어도 보안문제가 발생하지 않는다. <br>
그리고 logging을 통해 외부 서비스 인증에 대한 감사 로그를 확인할 수 있다고 하여 유용하다고 한다. <br> <br>

### 사전 준비 : 
1. 워크로드 아이덴티디 풀 관리자 및 서비스 계정 관리자 역할 있는지 확인 -> 2. API IAM, STS 사용 설정, 3. 제휴를 허용하도록 조직의 조직 정책 업데이트 <br> <br>

GCP는 비쿼리, API에 대해 사용할때만 거의 사용하는 경우만 많다고 하는데 여기서 보안에 대한 고민을 잘 안하게 된다고 한다. <br>
보안에 대한 고민을 조금 더 하면서 이용하면 좋을 것 같다고 한다. <br> <br>


## 세번째 세션 : 스타트업 온프레미스 클러스터 도입기
이 분은 처음부터 끝까지 6개월동안 스타트업의 흐름을 설명해주셨는데 엄청 복잡했다. 그리고 갈수록 기술스택이 늘어나는 과정을 세세히 설명해주셨고,
해당 문제들과 불편함으로 인해 이런 스택을 도입했다를 논리적으로 설명해주셨다. <br>
간단하게 문제와 해결점들을 나열한다면 <br>
- 대량 납품을 위해 진행해야되는 것들 (docker compose up 등등 불편한 점들이 한둘이 아님) -> ANSIBLE 도입 (한번의 명령어로 동일한 명령 보장)
- 서버가 여러개, 자원관리를 하나로 묶어서 도입 -> 쿠버네티스 도입 (여러 노드 자원을 효율적으로 관리 ,어플리케이션 관리까지)
- 배포, 설치 문제 (K8s native app 설치?, manifest 너무 많음) -> HELM 도입 (manifest중에 설정을 위한 값을 따로 빼서 편하게 만든 패키지 매니저)
- local-path-privisioner의 에러 (대부분 서비스 volume이 node에 종속되는 문제로 스토리지를 제공해야 하는 문제) -> Rook Ceph 도입 (Ceph : 하나의 스토리지 클러스터에 Object storage, Block device, NetWork filesystem등을 모두 제공 & 추가로 디스크 장애시 복구 기능까지 모두 제공 /
Rook : 클라우드 네이티브 스토리즈 오케스트레이션, 스트리지에 필요한 요소들을 k8s 클러스터 내에 배포)
